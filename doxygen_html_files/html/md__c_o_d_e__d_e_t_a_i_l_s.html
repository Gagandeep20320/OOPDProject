<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>8085 Assembler: CODE_DETAILS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">8085 Assembler
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">CODE_DETAILS </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >TODO yet:-</p><ol type="1">
<li>Packaging</li>
<li>UML 3 ###################### VIDEO ########################</li>
<li>Plan demo code</li>
</ol>
<p >What all can this code do?</p><ol type="1">
<li>Validate the passed command</li>
<li>Create list of instructions.</li>
<li>Execute all the commands along with fetching. We can extend this to executing all the command list together once fetching is complete.</li>
</ol>
<p >Details of the code:-</p><ol type="1">
<li>We have 6 registers available with us (R1-R6)</li>
<li>There is one accumulator</li>
</ol>
<ul>
<li>The instructions are language insensitive. Instruction Set :- ADD &lt;RegisterName&gt; &lt;RegisterName&gt; : Put sum of both registers into the accumulator ADA &lt;RegisterName&gt; : Sum register value and accumulator STR &lt;RegisterName&gt; : Copy the content of accumulator to the memory location LD &lt;RegisterName&gt; : Copy the content of location into accumulator OUT &lt;RegisterName&gt; : Display the valu of the register name mentioned to the standard output MOV &lt;RegisterName&gt; #&lt;ImmediateValue&gt; : Moves the immediate value into the register specified // : This would mean comment Instructions to be added :- ADD2 &lt;Reg1&gt; &lt;Reg2&gt; &lt;Reg3&gt; : Add Reg1 and Reg2, and store value in Reg1 SUB2 &lt;Reg1&gt; &lt;Reg2&gt; &lt;Reg3&gt; : Subtract Reg3 from Reg2 and store value in Reg1 SUB &lt;RegisterName&gt; &lt;RegisterName&gt; : Subtract first register from second and put into the accumulator SUBA &lt;RegisterName&gt; : Subtract register value from Acc and store into the accumulator MUL : All three types same as SUB/ADD DIV : All three types same as SUB/ADD</li>
</ul>
<p >STR -&gt; RAM LD -&gt; ROM</p>
<p >Memory:- Using a list as an attribute of the Memory class and member functions perform the read and write action. First few memory locations are conserved as ROM memory. </p>
<h1><a class="anchor" id="autotoc_md0"></a>
Inplementing memory was required as stated in the problem statement</h1>
<h1><a class="anchor" id="autotoc_md1"></a>
Implementing memory was also necessary to make statements like Load and Store work (Addressing schemes)</h1>
<p >InstructionDecoder:-</p><ul>
<li>This class as asked for in the problem desription is able to parse the file and do the decoding of the instructions.</li>
<li>Also this class has all the functions related to validation of instruction fetched.</li>
</ul>
<p >IMPORTANT : Instruction Validation ! Important part is the format in which we are storing the information (hard coded) related to acceptable syntax. ! With addition of each new command in the program, we would also need to update this one</p>
<p >Features to be added later.</p><ol type="1">
<li>Program counter</li>
<li>We can also implement a very simple stack with Stack pointer in picture.</li>
</ol>
<p >PARTITION FOR CHANGES TO BE MADE IN THE CODE:- {</p>
<p >RAJAT :</p>
<p >ADD2 &lt;Reg1&gt; &lt;Reg2&gt; &lt;Reg3&gt; : Add Reg1 and Reg2, and store value in Reg1 SUB2 &lt;Reg1&gt; &lt;Reg2&gt; &lt;Reg3&gt; : Subtract Reg3 from Reg2 and store value in Reg1 SUB &lt;RegisterName&gt; &lt;RegisterName&gt; : Subtract first register from second and put into the accumulator SUBA &lt;RegisterName&gt; : Subtract register value from Acc and store into the accumulator 'mul' : [2, "0111", "RR"], 'muli' : [1, "1000", "R"], 'div' : [2, "1001", "RR"], 'divi' : [1, "1010", "R"]} SOUMYA :</p>
<p >MUL : All three types same as SUB/ADD &mdash; Implemented This. Need some more here. Will do so-&mdash;required changes done DIV : All three types same as SUB/ADD -&mdash;Implemented This. Need to handle case of zero. Done using try catch block </p><h6>############## Exception handling (Using try catch block)</h6>
<p >Exception Handling for file and invalid instruction ---&mdash;File handling done with try catch, need verification 'ld' : [1, "0010", "R"], 'str' : [1, "0011", "R"],</p>
<p >SINDHU : OR AND NOT We would need bits for this. We acan assume 8 bit register -&gt; internally dec - 8 bit binary (predefined function to be used) 'add' : [2, "0000", "RR"], 'ada' : [1, "0001", "R"], <br  />
 'mov' : [2, "0101", "R?"], 'in' : [1, "0110", "?"],</p>
<p >Doxygen? -&gt; Comments</p>
<p >GAGANDEEP :</p>
<ul>
<li>Demo ? Input file ? Logical program : Loop</li>
<li>Loop Implementation JZ -&gt; Pre req: PC, Memory -&gt; DONE JNZ also implemented Debug MOV -&gt; DONE LD and STR commands should not be individual class since they re-initiate the complete memory which means that we may lose data (Check if it does that or not)</li>
</ul>
<p >See this error: File "d:\IIITD\MonsoonSemester2021Sem2\OOPD\OOPDProject\classes.py", line 261, in parseFileDecodeInstructions if(line[0:2] == "//"): # ! Handles a comment TypeError: 'int' object is not subscriptable RESOLVED : If you do not use HLT statement in the code then, this exception will show. Program has to be ended with HLT statement.</p>
<p >Possible demo <a href="file:-">file:-</a></p><ol type="1">
<li>mov r1 #10 mov r2 #1 mov r3 #514 out r1 out "*" sub2 r1 r1 r2 jnz r1 r3 HLT</li>
</ol>
<p >2. mov r1 #5 mov r2 #1 mov r3 #5 mov r5 #6 mov r4 r1 out "*" sub2 r4 r4 r2 jnz r4 r5 out "NEXTLINE" sub2 r1 r1 r2 jnz r1 r3 HLT</p>
<p >TODO :</p><ol type="1">
<li>One demo file per person. (Ensure all the basic commands are used) -&gt; Important functionalities to be shown through the demo files. a. Taking input from ports b. LD and STR instructions and ROM related read only exceptions. c. Exceptions for wrong syntax errors. d. Wrong memory location access errors.</li>
</ol>
<p >Rajat's Demo file: Soumya's Demo File :</p>
<p >mov r1 #10 mov r2 #1 mov r3 #0 mov r4 #4 mul r1 r4 muli r2 div r1 r6 out "Program_is_executing" divi r1 ml r1 r2 divi r1 r2 hlt</p>
<p >Sindhu's Demo file : mov r1 #3 mov r2 #1 mov r3 #8 mov r4 #4 or r1 r5 anda r2 not r3 ora r2 and r3 r4 out "Logical_operations_done" or r1 not r1 r6 an r4 r5 hlt</p>
<ol type="1">
<li>Complete Doxygen comments : //done</li>
<li>Profiling is done (we can run the command once code is final)</li>
<li>Packaging remaining --&mdash; ******</li>
<li>UML Class diagram -&gt; Soumya, Sindhu</li>
<li>Use of abstract classes</li>
</ol>
<p >All exceptions should be printed after execution</p>
<ol type="1">
<li>Runtime and syntax errors are handled differently (show)</li>
</ol>
<p >Points to be highlight in video</p>
<ol type="1">
<li>Abs, Poly, Encap, Inheritance</li>
<li>2 Codes for exception handling</li>
<li>1 Code for looping</li>
<li>RAM and ROM implementation (atleast the notion of ROM) -&gt; You cannot access(read) certain memory locations</li>
<li>Program execution (PC, Memory storing the code for execution)</li>
<li>IN command uses port. Show how to use port. </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
